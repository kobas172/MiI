<!DOCTYPE html>
<html lang="en">

<head>
    <title>Piotr Górkowski</title>

    <link href="css/video.css" rel="stylesheet" type="text/css">

    <meta charset="utf-8">


<script type="text/javascript">

	var canvas;
	var ctx;
	var obrot = 0;
	var rotate = false;
	var hov = false;
    

	function animate() {

		var animation = document.getElementById("video");
		
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		
		if (rotate) {
			if (hov)
			{
				if (obrot == 360)
					obrot = 0;
				obrot += 1;
			}
			else
			{
				if (obrot == 360)
					obrot = 0;
				obrot -= 1;
			}
		}

		ctx.translate(160, 120);
		ctx.rotate(obrot * (-1 * Math.PI / 180));
		ctx.translate(-160, -120);

		ctx.fillRect(18,18, canvas.width - 36, canvas.height - 36);
		ctx.drawImage(animation, 20, 20, canvas.width - 40, canvas.height - 40);
		
		ctx.translate(160, 120);
		ctx.rotate(obrot * (1 * Math.PI / 180));
		ctx.translate(-160, -120);

		ctx.fillText("Piotr Górkowski", canvas.width-72, canvas.height-1);
		
		requestAnimationFrame(animate); //funkcja animate() bedzie wywolywana 60 razy na sekunde
	}

	function load() {

	        canvas = document.getElementById("myCanvas");		
        	ctx = canvas.getContext('2d');
			video = document.getElementById('video');
			
			ctx.fillStyle= 'rgb(256,0,256)';
			ctx.font = "Arial";
	        
			animate();
	}

	function toggle() {
		if (rotate)
			rotate = false;
		else
			rotate = true;
	}

	function hover() {
		if (hov)
			hov = false;
		else
			hov = true;
	}


</script>
<script src="js/three.js"></script> 
<script src="js/my_scene.js"></script>


</head>

<body onload = "load(); init();"> 

	<h1>Multimedia i interfejsy - HTML5</h1>

	<div id="div_video">  
		<video id="video" width="320" height="240" controls autoplay muted loop>
			<source src="video.mp4" type="video/mp4">
		</video>
		<p>video</p> 
		
	</div>

	<div id="div_canvas" >	
		<canvas id='myCanvas' width="320" height="240" ondblclick="toggle()" onmouseover="hover()"></canvas>
		<p>canvas</p>
		
	</div>

	<div id="div_webgl">

	</div>

</body> 
</html>
 